{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '44023178-1b17cf85b995cf2d6fd44a474', // ← Персональний ключ\n        q: query, //← Введений нами запит\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: 1,\n        per_page: 20,\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText)\n        }\n        return response.json();\n    })\n        .then(data => {\n        if (data.totalHits === 0) {\n                iziToast.error({\n                    title: 'Error!',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                throw new Error('No images found');\n            }\n            return data;\n        })\n        .catch(error => {\n            console.error(\"Error fetching images:\", error);\n        });\n};","\nfunction imageTamplate(image) {\n    return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\"\n          ><img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"\n        /></a>\n        <ul class=\"image-description\">\n          <li class=\"info-item\">\n            <h3 class=\"info-title\">Likes</h3>\n            <p class=\"info-value\">${image.likes}</p>\n          </li>\n          <li class=\"info-item\">\n            <h3 class=\"info-title\">Views</h3>\n            <p class=\"info-value\">${image.views}</p>\n          </li>\n          <li class=\"info-item\">\n            <h3 class=\"info-title\">Comments</h3>\n            <p class=\"info-value\">${image.comments}</p>\n          </li>\n          <li class=\"info-item\">\n            <h3 class=\"info-title\">Downloads</h3>\n            <p class=\"info-value\">${image.downloads}</p>\n          </li>\n        </ul>\n      </li>`\n}\n\nexport function galleryRender(array) {\n    return array.map(imageTamplate).join('');\n    }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api.js'; //← функція фетчу зображень з серверу\nimport { galleryRender} from './js/render-functions.js'; //← імпорт функції рендеру\n\n//===============================================================================\n// імпорт DOM елементів\n\nconst refs = {\n    form: document.querySelector('.search-form'),\n    input:  document.querySelector('input'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\n\n//===============================================================================\n// Налаштовуємо SimpleLightbox\n\nfunction initilizeLightbox() {\n    const lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    });\n    \n     lightbox.refresh();\n}\n\n//===============================================================================\n// Налаштовуємо слухач подій та визначаємо, що буде відбуватися при запиті\n\nrefs.form.addEventListener('submit', event => {\n    event.preventDefault();\n    const query = event.target.elements.query.value.trim();\n\n    getImages(query).then(data => {\n        const markup = galleryRender(data.hits)\n        refs.gallery.innerHTML = markup;\n        initilizeLightbox()\n        refs.loader.classList.add('is-hidden');\n    });\n});"],"names":["getImages","query","BASE_URL","params","url","response","data","error","imageTamplate","image","galleryRender","array","refs","initilizeLightbox","SimpleLightbox","event","markup"],"mappings":"svBAAO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EAClB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAK,EACI,KAAKC,GAAQ,CACd,GAAIA,EAAK,YAAc,EACf,eAAS,MAAM,CACX,MAAO,SACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACK,IAAI,MAAM,iBAAiB,EAErC,OAAOA,CACnB,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CACzD,CAAS,CACT,CCjCA,SAASC,EAAcC,EAAO,CAC1B,MAAO;AAAA,wCAC6BA,EAAM,aAAa;AAAA,6CACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAK/CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,oCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAInD,CAEO,SAASC,EAAcC,EAAO,CACjC,OAAOA,EAAM,IAAIH,CAAa,EAAE,KAAK,EAAE,CAC3C,CCjBA,MAAMI,EAAO,CACT,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAKA,SAASC,GAAoB,CACR,IAAIC,EAAe,aAAc,CAClD,aAAc,IACd,aAAc,MACd,gBAAiB,QACrB,CAAK,EAES,QAAO,CACrB,CAKAF,EAAK,KAAK,iBAAiB,SAAUG,GAAS,CAC1CA,EAAM,eAAc,EACpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhDf,EAAUC,CAAK,EAAE,KAAKK,GAAQ,CAC1B,MAAMU,EAASN,EAAcJ,EAAK,IAAI,EACtCM,EAAK,QAAQ,UAAYI,EACzBH,EAAmB,EACnBD,EAAK,OAAO,UAAU,IAAI,WAAW,CAC7C,CAAK,CACL,CAAC"}